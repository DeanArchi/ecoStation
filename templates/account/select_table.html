{% extends "base.html" %}
{% block title %}EcoStation{% endblock %}
{% block content %}

<div class="filter-form" {% if show_filter_form %}style="display: block;" {% else %} style="display: none;" {% endif %}>
    <form action="{% url 'data' %}" method="POST">
        {% csrf_token %}
        <label for="station_select">Choose station address:</label>
        <select name="station_address" id="station_select" class="form-control form-control-sm">
        <i class="bi bi-arrow-down"></i>
            {% for station in stations %}
                <option value="{{ station }}">{{ station }}</option>
            {% endfor %}
        </select>
        <input type="hidden" name="selected_report" value="List of connected stations">
        <input type="submit" class="btn btn-primary btn-sm" value="Search">
        {% if station_address %}
            <a href="{% url 'generate_pdf' station_address=station_address %}" class="btn btn-primary btn-sm" target="_blank">Generate PDF</a>
        {% endif %}
    </form>
</div>

<div class="table-container">
    <table class="table table-bordered">
        <tr>
            {% for column in columns %}
                <th>{{ column }}</th>
            {% endfor %}
        </tr>
        {% for row in data %}
            <tr>
                {% for value in row %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
</div>

{% endblock %}
